'use strict';

// Node JS global scope
var gulp = global.gulp = global.gulp || require('gulp');
global.config = global.config || require('../utils/common.js');
var config = global.config.config();

/**
 * Watch for sample and source and reload browser on changes
 */
gulp.task('watch', ['serve'], function () {
    var browserSync = require('browser-sync');
    var bs = browserSync.get('Essential TypeScript');

    gulp.watch(config.watchSample, ['build', bs.reload]);
    gulp.watch(config.watchTs, ['scripts', bs.reload]);
    gulp.watch(config.styles, ['styles', bs.reload]);
});

/**
 * Watch ts files of source
 */
gulp.task('watch-ts', ['scripts'], function () {
    gulp.watch(config.watchTs, ['scripts']);
});

/**
 * Watch scss files of source
 */
gulp.task('watch-sass', ['styles'], function () {
    gulp.watch(config.styles, ['styles']);
});